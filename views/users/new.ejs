<!DOCTYPE html>
<html>
  <head>
    <%- include('../partials/head') %>
    <link rel="stylesheet" href="/css/register.css">
	<link rel="stylesheet" href="node_modules/intl-tel-input/src/css/intlTelInput.css">
  </head>
  <body>
    <%- include('../partials/nav') %>

    
	<div class="form mb-3">

      <h3 class="contentBoxTop mb-3">New User</h3>

      <form action="/users" method="post">

        <div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="firstname" name="firstname" placeholder="First Name*" value="<%= user.firstname %>" class="form-control <%= (errors.firstname)?'is-invalid':'' %>">
            <% if(errors.firstname){ %>
              <span class="invalid-feedback"><%= errors.firstname.message %></span>
            <% } %>
          </div>
        </div>
		
		<div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="initial" name="initial" placeholder="Initial" value="<%= user.initial %>" class="form-control <%= (errors.initial)?'is-invalid':'' %>">
            <% if(errors.initial){ %>
              <span class="invalid-feedback"><%= errors.initial.message %></span>
            <% } %>
          </div>
        </div>
		
		<div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="lastname" name="lastname" placeholder="Last Name*" value="<%= user.lastname %>" class="form-control <%= (errors.lastname)?'is-invalid':'' %>">
            <% if(errors.lastname){ %>
              <span class="invalid-feedback"><%= errors.lastname.message %></span>
            <% } %>
          </div>
        </div>
		
		<div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="username" name="username" placeholder="Username*" value="<%= user.username %>" class="form-control <%= (errors.username)?'is-invalid':'' %>">
            <% if(errors.username){ %>
              <span class="invalid-feedback"><%= errors.username.message %></span>
            <% } %>
          </div>
        </div>
		
        <div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="email" name="email" placeholder="Email" value="<%= user.email %>" class="form-control <%= (errors.email)?'is-invalid':'' %>">
            <% if(errors.email){ %>
              <span class="invalid-feedback"><%= errors.email.message %></span>
            <% } %>
          </div>
        </div>
		
        <div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="password" id="password" name="password" placeholder="Password*" value="" class="form-control <%= (errors.password)?'is-invalid':'' %>">
            <% if(errors.password){ %>
              <span class="invalid-feedback"><%= errors.password.message %></span>
            <% } %>
          </div>
        </div>
		
        <div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="password" id="passwordConfirmation" name="passwordConfirmation" placeholder="Password Confirmation*" value="" class="form-control <%= (errors.passwordConfirmation)?'is-invalid':'' %>">
            <% if(errors.passwordConfirmation){ %>
              <span class="invalid-feedback"><%= errors.passwordConfirmation.message %></span>
            <% } %>
          </div>
        </div>
		
        <div class="row justify-content-center">
          <div class="col-sm-3 ">
            <select class="custom-select" id="role">
              <option value="">I am..*</option>
              <option value="1">VVE Board</option>
              <option value="2">Apartment Owner</option>
              <option value="3">Supplier</option>
            </select>
          </div>
        </div>
	


<!--Dependant on option value, based on master --!>
		<div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="boardactivationcode" name="boardactivationcode" placeholder="Activation Code*" value="" class="form-control <%= (errors.boardactivationcode)?'is-invalid':'' %>">
            <% if(errors.boardactivationcode){ %>
              <span class="invalid-feedback"><%= errors.boardactivationcode.message %></span>
            <% } %>
          </div>
        </div>
		
		<!-- gm refering to general member--!>
		<div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="gmactivationcode" name="gmactivationcode" placeholder="Activation Code*" value="" class="form-control <%= (errors.gmactivationcode)?'is-invalid':'' %>">
            <% if(errors.gmactivationcode){ %>
              <span class="invalid-feedback"><%= errors.gmactivationcode.message %></span>
            <% } %>
          </div>
        </div>
		
		
		<div class="row justify-content-center">
          <div class="col-sm-3">
            <input type="text" id="kvknumber" name="kvknumber" placeholder="KvK number*" value="" class="form-control <%= (errors.kvknumber)?'is-invalid':'' %>">
            <% if(errors.kvknumber){ %>
              <span class="invalid-feedback"><%= errors.kvknumber.message %></span>
            <% } %>
          </div>
        </div>
		



		
				
		
<!--End of dependent fields--!>		
        <p>
          <small>*Required</small>
        </p>


        <div class="form-group">
          <button type="submit" class="btn btn-primary">Register</button>
        </div>
        
      </form>

    </div>
	<script>
	$("#role").change(function() {
	  if ($(this).val() == "1") {
		$('#boardactivationcode').show();
		$('#boardactivationcode').attr('required', '');
		$('#boardactivationcode').attr('data-error', 'This field is required.');
	  } else {
		$('#boardactivationcode').hide();
		$('#boardactivationcode').removeAttr('required');
		$('#boardactivationcode').removeAttr('data-error');
	  }
	  
	  if ($(this).val() == "2") {
		$('#gmactivationcode').show();
		$('#gmactivationcode').attr('required', '');
		$('#gmactivationcode').attr('data-error', 'This field is required.');
	  } else {
		$('#gmactivationcode').hide();
		$('#gmactivationcode').removeAttr('required');
		$('#gmactivationcode').removeAttr('data-error');
	  }
	  if ($(this).val() == "3") {

		$('#kvknumber').show();
		$('#kvknumber').attr('required', '');
		$('#kvknumber').attr('data-error', 'This field is required.');

	  } else {

		$('#kvknumber').hide();
		$('#kvknumber').removeAttr('required');
		$('#kvknumber').removeAttr('data-error');

	  }
		   
	});
	$("#role").trigger("change");

	</script>
  </body>
</html>
